(this["webpackJsonpaipm-react"]=this["webpackJsonpaipm-react"]||[]).push([[0],{103:function(e,t,a){e.exports=a.p+"static/media/Asset2.ea47277b.png"},104:function(e,t,a){e.exports=a.p+"static/media/Asset3.b4c2aa54.png"},105:function(e,t,a){e.exports=a.p+"static/media/Asset4.266f0140.png"},106:function(e,t,a){e.exports=a.p+"static/media/Asset6.cd12a777.png"},107:function(e,t,a){e.exports=a.p+"static/media/Asset7.72814816.png"},108:function(e,t,a){e.exports=a.p+"static/media/Asset8.8ee4f9ef.png"},193:function(e,t,a){e.exports=a(441)},198:function(e,t,a){},199:function(e,t,a){},205:function(e,t,a){},221:function(e,t,a){},222:function(e,t,a){},223:function(e,t,a){},224:function(e,t,a){e.exports=a.p+"static/media/robot-arm-yellow.14e8e46b.png"},225:function(e,t,a){e.exports=a.p+"static/media/robot-arm-orange.cd7d525b.png"},226:function(e,t,a){e.exports=a.p+"static/media/Asset5.27c8bb0a.png"},227:function(e,t,a){},230:function(e,t,a){},248:function(e,t){},250:function(e,t){},280:function(e,t){},281:function(e,t){},326:function(e,t){},328:function(e,t){},351:function(e,t){},441:function(e,t,a){"use strict";a.r(t);var s=a(0),o=a.n(s),r=a(102),n=a.n(r),i=(a(198),a(14)),c=a(15),l=a(16),u=a(17),m=a(190),p=a(36),h=a(47),d=a(71),g=(a(199),a(187)),b=a.n(g),j=a(188),v=a.n(j),q=(a(205),a(206),function(e){Object(u.a)(a,e);var t=Object(l.a)(a);function a(e){var s;return Object(i.a)(this,a),(s=t.call(this,e)).dataArray=[{sTorque:"0",lTorque:"2520",uTorque:"-3154",rTorque:"-576",bTorque:"0",tTorque:"352",xPos:"635202",yPos:"-428911",zPos:"594962",timestamp:1585325912286},{sTorque:"0",lTorque:"5320",uTorque:"-2158",rTorque:"-704",bTorque:"-192",tTorque:"-256",xPos:"795447",yPos:"169888",zPos:"196498",timestamp:1585325880409},{sTorque:"0",lTorque:"2520",uTorque:"-3154",rTorque:"-576",bTorque:"0",tTorque:"352",xPos:"635202",yPos:"-428911",zPos:"594962",timestamp:1585325912286},{sTorque:"0",lTorque:"5180",uTorque:"-2158",rTorque:"-736",bTorque:"-384",tTorque:"-256",xPos:"794744",yPos:"169223",zPos:"192847",timestamp:1585325930250}],s.state={yaskawa1:[],width:window.innerWidth/4.6,height:window.innerHeight/3.1},s}return Object(c.a)(a,[{key:"getYaskawa1Data",value:function(){var e=this;v.a.ajax({url:"https://aipm-gsc-nodered.mybluemix.net/yaskawaHistory",type:"GET",dataType:"json"}).then((function(t){t.yaskawaHistory.slice(0,10).map((function(t,a){e.setState({yaskawa1:[].concat(Object(h.a)(e.state.yaskawa1),[JSON.parse(t)])})})),console.log(e.state.yaskawa1)}))}},{key:"componentDidMount",value:function(){var e=this;window.addEventListener("resize",(function(){e.setState({width:window.innerWidth/4.6,height:window.innerHeight/3.1})}))}},{key:"render",value:function(){return o.a.createElement("div",{className:"Graph-Container"},o.a.createElement(b.a,{data:[{name:"Yaskawa Position",x:[this.props.xPos[this.props.xPos.length-1],this.props.xPos[this.props.xPos.length-2],this.props.xPos[this.props.xPos.length-3],this.props.xPos[this.props.xPos.length-4],this.props.xPos[this.props.xPos.length-5]],y:[this.props.yPos[this.props.yPos.length-1],this.props.yPos[this.props.yPos.length-2],this.props.yPos[this.props.yPos.length-3],this.props.yPos[this.props.yPos.length-4],this.props.yPos[this.props.yPos.length-5]],z:[this.props.zPos[this.props.zPos.length-1],this.props.zPos[this.props.zPos.length-2],this.props.zPos[this.props.zPos.length-3],this.props.zPos[this.props.zPos.length-4],this.props.zPos[this.props.zPos.length-5]],type:"scatter3d",mode:"markers",marker:{color:["rgba(251,51,129,1)","rgba(221,79,134,1)","rgba(178,73,112,1)","rgba(134,60,88,1)","rgba(95,42,61,1)"],size:"15",opacity:".7"}}],useResizeHandler:!0,style:{height:this.state.height,width:this.state.width},layout:{autosize:!0,title:{text:"Position",x:".05",y:".97",font:{size:"22",color:"#A4A4A4",family:"IBMPlexSans"}},showlegend:!1,paper_bgcolor:"#252525",margin:{t:"10",b:"10",l:"10",r:"10"},scene:{bgcolor:"#252525",aspectmode:"cube",xaxis:{title:{text:""},showgrid:!1,showticklabels:!1,showbackground:!0,backgroundcolor:"rgba(37,37,37,.2)",showaxeslabels:!1},yaxis:{title:{text:""},showbackground:!0,backgroundcolor:"rgba(37,37,37,.5)",showgrid:!1,showticklabels:!1,showaxeslabels:!1},zaxis:{title:{text:""},showbackground:!0,backgroundcolor:"rgba(37,37,37,.9)",showgrid:!1,showticklabels:!1,showaxeslabels:!1},camera:{eye:{x:1.5,y:1.5,z:1.5},up:{x:0,y:0,z:1},center:{x:-.75,y:-.75,z:-.5}}}}}))}}]),a}(o.a.Component)),f=(a(221),function(e){Object(u.a)(a,e);var t=Object(l.a)(a);function a(){return Object(i.a)(this,a),t.apply(this,arguments)}return Object(c.a)(a,[{key:"render",value:function(){return o.a.createElement("div",{className:"health-container"},o.a.createElement("div",{className:"title"},"Robot Health"),o.a.createElement("div",{className:"score"},"98.7"),o.a.createElement("div",null,o.a.createElement("img",{className:"image",src:this.props.image})))}}]),a}(o.a.Component)),y=(a(222),a(223),function(e){Object(u.a)(a,e);var t=Object(l.a)(a);function a(){return Object(i.a)(this,a),t.apply(this,arguments)}return Object(c.a)(a,[{key:"render",value:function(){return o.a.createElement("div",{className:"progress-bar-background"},o.a.createElement("div",{style:{width:this.props.progress+"%"},className:"torque-progress"}))}}]),a}(o.a.Component)),w=function(e){Object(u.a)(a,e);var t=Object(l.a)(a);function a(e){var s;return Object(i.a)(this,a),(s=t.call(this,e)).progress=null,s}return Object(c.a)(a,[{key:"componentDidUpdate",value:function(){var e=null;switch(this.props.title){case"S":e=Number(this.props.torque)+2e3,console.log("Torque: "+e),this.progress=e/4e3*100,console.log("Progress: "+this.progress);break;case"L":e=Number(this.props.torque)+7e3,this.progress=e/14e3*100;break;case"U":e=4e3*Number(this.props.torque),this.progress=e/8e3*100;break;case"R":e=Number(this.props.torque)+2e3,this.progress=e/4e3*100;break;case"B":case"T":e=Number(this.props.torque)+1e3,this.progress=e/2e3*100;break;default:this.progress=50}}},{key:"render",value:function(){return o.a.createElement("div",{className:"torque-container"},o.a.createElement("div",{className:"torque-title"},this.props.title),o.a.createElement("div",{className:"torque-score"},this.props.torque),o.a.createElement("div",{className:"image-progressbar-container"},o.a.createElement("img",{className:"torque-image",src:this.props.image}),o.a.createElement(y,{progress:this.progress})))}}]),a}(o.a.Component),P=(a(224),a(225),a(103)),E=a.n(P),T=a(104),k=a.n(T),x=a(105),N=a.n(x),O=(a(226),a(106)),z=a.n(O),C=a(107),A=a.n(C),S=a(108),M=a.n(S),L=a(189),R=function(e){Object(u.a)(a,e);var t=Object(l.a)(a);function a(){var e;Object(i.a)(this,a);for(var s=arguments.length,o=new Array(s),r=0;r<s;r++)o[r]=arguments[r];return(e=t.call.apply(t,[this].concat(o))).state={sTorque:null,lTorque:null,uTorque:null,rTorque:null,bTorque:null,tTorque:null,xPos:[],yPos:[],zPos:[],mqttClient:null},e.mqttCredentials=[{clientId:"a:vrvzh6:"+Math.random().toString(16).substr(2,8),broker:"vrvzh6.messaging.internetofthings.ibmcloud.com",subscribe:"iot-2/type/gsc-yaskawa-gw/id/gsc-yaskawa-01/evt/update/fmt/json",username:"a-vrvzh6-lmttnkzxht",password:"LRVitW+(soqXuZdJT!"},{clientId:"a:vrvzh6:"+Math.random().toString(16).substr(2,8),broker:"vrvzh6.messaging.internetofthings.ibmcloud.com",subscribe:"iot-2/type/gsc-yaskawa-gw/id/gsc-yaskawa-01/evt/update/fmt/json",username:"a-vrvzh6-lmttnkzxht",password:"LRVitW+(soqXuZdJT!"}],e.mqttHandler=function(t){var a=null,s=null,o=null,r=null;switch(t){case"gsc-yaskawa-tire01":a=e.mqttCredentials[0].clientId,s=e.mqttCredentials[0].broker,o=e.mqttCredentials[0].username,r=e.mqttCredentials[0].password;break;case"gsc-yaskawa-tire02":a=e.mqttCredentials[1].clientId,s=e.mqttCredentials[1].broker,o=e.mqttCredentials[1].username,r=e.mqttCredentials[1].password}var n=new L.Client(s,8883,a);n.onConnectionLost=e.onConnectionLost,n.onMessageArrived=e.onMessageArrived,e.setState({mqttClient:n},(function(){e.state.mqttClient.connect({onSuccess:e.onConnect.bind(Object(d.a)(e)),onFailure:e.onFailure,userName:o,password:r,useSSL:!0})}))},e.onConnectionLost=function(e){0!==e.errorCode&&console.log("onConnectionLost:"+e.errorMessage)},e.onMessageArrived=function(t){console.log("inside onMessage 2"),e.onMessageArrivedCommon(t)},e.onConnect=function(t){var a=null;a=e.mqttCredentials[0].subscribe,console.log("switch - subscribe -gsc-yaskawa-tire01"),console.log("onConnect"),e.state.mqttClient.subscribe(a)},e.onFailure=function(e){console.log("onFailure"+JSON.stringify(e))},e.onMessageArrivedCommon=function(t){var a=t.destinationName.split("/"),s=(a[4],a[6]);if("json"===a[8]){var o=JSON.parse(t.payloadString);console.log("wholedata",s,o),e.setState({data:o,healthScore:null,sTorque:o.sTorque,lTorque:o.lTorque,uTorque:o.uTorque,rTorque:o.rTorque,bTorque:o.bTorque,tTorque:o.tTorque,xPos:[].concat(Object(h.a)(e.state.xPos),[o.xPos]),yPos:[].concat(Object(h.a)(e.state.yPos),[o.yPos]),zPos:[].concat(Object(h.a)(e.state.zPos),[o.zPos])})}},e}return Object(c.a)(a,[{key:"componentDidMount",value:function(){this.mqttHandler("gsc-yaskawa-tire01")}},{key:"render",value:function(){return o.a.createElement("div",{className:"contents-container"},o.a.createElement("div",{className:"r1-row robot-col card-padding robot-name"},"Robot 1"),o.a.createElement("div",{className:"r1-row robot-health card-padding card-color"},o.a.createElement(f,{image:null})),o.a.createElement("div",{className:"r1-row position card-padding card-color"},o.a.createElement(q,{xPos:this.state.xPos,yPos:this.state.yPos,zPos:this.state.zPos})),o.a.createElement("div",{className:"j1-j2-j3-r1 j1-j4-col"},o.a.createElement(w,{torque:this.state.sTorque,title:"S",image:N.a,score:98.7})),o.a.createElement("div",{className:"j1-j2-j3-r1 j2-j5-col"},o.a.createElement(w,{torque:this.state.lTorque,title:"L",image:k.a,score:98.7})),o.a.createElement("div",{className:"j1-j2-j3-r1 j3-j6-col"},o.a.createElement(w,{torque:this.state.uTorque,title:"U",image:E.a,score:98.7})),o.a.createElement("div",{className:"j4-j5-j6-r1 j1-j4-col"},o.a.createElement(w,{torque:this.state.rTorque,title:"R",image:z.a,score:98.7})),o.a.createElement("div",{className:"j4-j5-j6-r1 j2-j5-col"},o.a.createElement(w,{torque:this.state.bTorque,title:"B",image:A.a,score:98.7})),o.a.createElement("div",{className:"j4-j5-j6-r1 j3-j6-col"},o.a.createElement(w,{torque:this.state.tTorque,title:"T",image:M.a,score:98.7})),o.a.createElement("div",{className:"gap-line"}),o.a.createElement("div",{className:"r2-row robot-col card-padding robot-name"},"Robot 2"),o.a.createElement("div",{className:"r2-row robot-health card-padding card-color"},o.a.createElement(f,{image:null})),o.a.createElement("div",{className:"r2-row position card-padding card-color"},o.a.createElement(q,{xPos:this.state.xPos,yPos:this.state.yPos,zPos:this.state.zPos})),o.a.createElement("div",{className:"j1-j2-j3-r2 j1-j4-col"},o.a.createElement(w,{torque:this.state.sTorque,title:"S",image:E.a,score:98.7})),o.a.createElement("div",{className:"j1-j2-j3-r2 j2-j5-col"},o.a.createElement(w,{torque:this.state.lTorque,title:"L",image:k.a,score:98.7})),o.a.createElement("div",{className:"j1-j2-j3-r2 j3-j6-col"},o.a.createElement(w,{torque:this.state.uTorque,title:"U",image:N.a,score:98.7})),o.a.createElement("div",{className:"j4-j5-j6-r2 j1-j4-col"},o.a.createElement(w,{torque:this.state.rTorque,title:"R",image:z.a,score:98.7})),o.a.createElement("div",{className:"j4-j5-j6-r2 j2-j5-col"},o.a.createElement(w,{torque:this.state.bTorque,title:"B",image:A.a,score:98.7})),o.a.createElement("div",{className:"j4-j5-j6-r2 j3-j6-col"},o.a.createElement(w,{torque:this.state.tTorque,title:"T",image:M.a,score:98.7})))}}]),a}(s.Component),H=(a(227),function(e){Object(u.a)(a,e);var t=Object(l.a)(a);function a(){return Object(i.a)(this,a),t.apply(this,arguments)}return Object(c.a)(a,[{key:"render",value:function(){return o.a.createElement("div",{className:"layout-grid"},o.a.createElement("div",{className:"header"},"IBM"),o.a.createElement("div",{className:"below-header"}),o.a.createElement("div",{className:"left-col"}),o.a.createElement("div",{className:"main-content"},o.a.createElement(R,null)),o.a.createElement("div",{className:"right-col"}),o.a.createElement("div",{className:"footer"},"footer"))}}]),a}(s.Component)),B=function(e){Object(u.a)(a,e);var t=Object(l.a)(a);function a(){return Object(i.a)(this,a),t.apply(this,arguments)}return Object(c.a)(a,[{key:"render",value:function(){return o.a.createElement(H,null)}}]),a}(s.Component),I=function(e){Object(u.a)(a,e);var t=Object(l.a)(a);function a(){return Object(i.a)(this,a),t.apply(this,arguments)}return Object(c.a)(a,[{key:"render",value:function(){return o.a.createElement(m.a,null,o.a.createElement(p.c,null,o.a.createElement(p.a,{exact:!0,path:"/",component:B})))}}]),a}(s.Component),J=(a(230),function(e){Object(u.a)(a,e);var t=Object(l.a)(a);function a(){return Object(i.a)(this,a),t.apply(this,arguments)}return Object(c.a)(a,[{key:"render",value:function(){return o.a.createElement("div",{className:"App"},o.a.createElement(I,null))}}]),a}(s.Component));Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));a(231);n.a.render(o.a.createElement(J,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))}},[[193,1,2]]]);
//# sourceMappingURL=main.dc683513.chunk.js.map