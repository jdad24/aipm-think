(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{20:function(e,t,n){},24:function(e,t,n){e.exports=n(44)},29:function(e,t,n){},38:function(e,t,n){},39:function(e,t,n){},40:function(e,t,n){},41:function(e,t,n){},42:function(e,t,n){},43:function(e,t,n){},44:function(e,t,n){"use strict";n.r(t);var a=n(0),o=n.n(a),r=n(21),l=n.n(r),i=(n(29),n(2)),s=n(3),c=n(5),u=n(4),m=n(6),d=n(10),v=n(11),b=function(e){function t(){return Object(i.a)(this,t),Object(c.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){return o.a.createElement("div",null,o.a.createElement("div",null,"Person screen"),o.a.createElement("li",null,o.a.createElement(d.b,{to:"/pm"},o.a.createElement("button",null,"GO to PM"))),o.a.createElement("li",null,o.a.createElement(d.b,{to:"/vi"},o.a.createElement("button",null,"GO to VI"))))}}]),t}(a.Component),p=function(e){function t(){return Object(i.a)(this,t),Object(c.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){return o.a.createElement("div",null," PredictiveMaintenance ")}}]),t}(a.Component),g=(n(38),function(e){return o.a.createElement("div",{className:"Header"},o.a.createElement(d.b,{to:"/"},o.a.createElement("div",null,o.a.createElement("button",null,"arrow"))),o.a.createElement("div",null,e.role))}),f=(n(39),function(e){return o.a.createElement("div",{className:"Persona-time"},o.a.createElement("div",null,"Good-morning ",e.name),o.a.createElement("div",null,"Local Time, Date"),o.a.createElement("div",null,"Weather and Weather Event"))}),h=(n(40),function(e){var t=[{device:"yaskawa001",overview:" Yaskawa Overview"},{device:"kuka001",overview:" Kuka Overview"},{device:"replay",overview:" Replay Overview"}].map(function(t){return o.a.createElement("div",{className:"Robot",key:t.device},o.a.createElement("div",null,t.device),o.a.createElement("div",null,t.overview),o.a.createElement("button",{value:t.device,onClick:e.clickHandler},"Details"))});return o.a.createElement("div",{className:"Robot-list"},t)}),E=function(e){return e.children},k=(n(20),function(e){function t(e){var n;return Object(i.a)(this,t),(n=Object(c.a)(this,Object(u.a)(t).call(this,e))).state={slot:null,img:null},n}return Object(m.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){var e={backgroundImage:"url(data:image/jpeg;base64,"+this.state.img+")",backgroundRepeat:"no-repeat",width:"100%",height:"100%",backgroundSize:"contain",backgroundPosition:"center"};return o.a.createElement("div",{className:"imgContainer"},o.a.createElement("div",{style:e},"image: "))}}]),t}(a.PureComponent));k.getDerivedStateFromProps=function(e,t){return{slot:e.slot,img:e.img}};var w=k,y=function(e){function t(e){var n;return Object(i.a)(this,t),(n=Object(c.a)(this,Object(u.a)(t).call(this,e))).state={slot:null,score:null},n}return Object(m.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){var e=o.a.createElement("p",null,"No score ");return this.state.score&&(e=o.a.createElement("div",null,"Score:",o.a.createElement("div",null,"iotTopic:  ",this.state.score[0]),o.a.createElement("div",null,"robotEnvironment:  ",this.state.score[0]),o.a.createElement("div",null,"mySpeakingClassification:  ",this.state.score[1]),o.a.createElement("div",null,"myConfidence:  ",this.state.score[2]),o.a.createElement("div",null,"mySlot:  ",this.state.score[3]))),o.a.createElement("div",{className:"scoreContainer"},e)}}]),t}(a.PureComponent);y.getDerivedStateFromProps=function(e,t){return{slot:e.slot,score:e.score}};var C=y,O=n(15),j=(n(41),function(e){function t(e){var n;return Object(i.a)(this,t),(n=Object(c.a)(this,Object(u.a)(t).call(this,e))).state={mqttClient:null,imgdata:[{slot:null,img:null},{slot:null,img:null},{slot:null,img:null},{slot:null,img:null}],scoredata:[{slot:null,score:null},{slot:null,score:null},{slot:null,score:null},{slot:null,score:null}]},n.mqttCredentials=[{clientId:"a:qjue4x:"+Math.random().toString(16).substr(2,8),broker:"qjue4x.messaging.internetofthings.ibmcloud.com",subscribe:"iot-2/type/+/id/+/evt/+/fmt/json",username:"a-qjue4x-al7mm3hvo4",password:"+4B0N)ZGk@BVH1BFy9"},{clientId:"a:xbyrsp:"+Math.random().toString(16).substr(2,8),broker:"xbyrsp.messaging.internetofthings.ibmcloud.com",subscribe:"iot-2/type/+/id/+/evt/+/fmt/json",username:"a-xbyrsp-0rf3yixsqn",password:"2I+?sdkfxml_OR8SMR"}],n.wsCredentials={yaskawa001:"wss://aipm-gsc-nodered.mybluemix.net/ws/aipm-gsc/yaskawa",kuka001:"wss://aipm-gsc-nodered.mybluemix.net/ws/aipm-gsc/kuka",replay:"wss://aipm-gsc-nodered.mybluemix.net/ws/aipm-gsc"},n.webSocketHandler=function(){var e,t=n.wsCredentials[n.props.robot];(e=new WebSocket(t)).onmessage=function(e){var t=JSON.parse(e.data),a=t.payload.slot;if(n.props.robot===t.payload.robotEnvironment&&"image"===t.payload.type){console.log("ws image msg.payload.robotEnvironment="+t.payload.robotEnvironment);var o=t.payload.image.toString(),r=n.state.imgdata;r[a-1].slot=a,r[a-1].img=o,n.setState({imgdata:r},function(){console.log("viIMAGE - Parent"),console.log(n.state)})}},e.onopen=function(){console.log("connected")},e.onclose=function(){setTimeout(n.webSocketHandler,3e3)}},n.mqttHandler=function(e){var t=null,a=null,o=null,r=null;switch(e){case"yaskawa001":t=n.mqttCredentials[0].clientId,a=n.mqttCredentials[0].broker,o=n.mqttCredentials[0].username,r=n.mqttCredentials[0].password;break;case"kuka001":t=n.mqttCredentials[1].clientId,a=n.mqttCredentials[1].broker,o=n.mqttCredentials[1].username,r=n.mqttCredentials[1].password,console.log("switch - device -"+e);break;case"replay":t=n.mqttCredentials[0].clientId,a=n.mqttCredentials[0].broker,o=n.mqttCredentials[0].username,r=n.mqttCredentials[0].password,console.log("switch - device -"+e)}var l=new O.Client(a,1883,t);l.onConnectionLost=n.onConnectionLost,l.onMessageArrived=n.onMessageArrived,n.setState({mqttClient:l},function(){n.state.mqttClient.connect({onSuccess:n.onConnect,onFailure:n.onFailure,userName:o,password:r})})},n.onConnectionLost=function(e){0!==e.errorCode&&console.log("onConnectionLost:"+e.errorMessage)},n.onMessageArrived=function(e){console.log("inside onMessage 2"),n.onMessageArrivedCommon(e)},n.onConnect=function(e){var t=null;switch(n.props.robot){case"yaskawa001":case"kuka001":case"replay":t=n.mqttCredentials[0].subscribe,console.log("switch - subscribe -"+n.props.robot)}console.log("onConnect"),n.state.mqttClient.subscribe(t)},n.onFailure=function(e){console.log("onFailure"+JSON.stringify(e))},n.onMessageArrivedCommon=function(e){var t=e.destinationName.split("/"),a=t[4],o=t[6];if("json"===t[8]){var r=JSON.parse(e.payloadString);if("score"===o){var l=[a,r.speakingClassification,r.confidence,r.slot],i=n.state.scoredata;i[r.slot-1].score=l,i[r.slot-1].slot=r.slot,n.setState({scoredata:i})}}},n}return Object(m.a)(t,e),Object(s.a)(t,[{key:"componentDidMount",value:function(){this.webSocketHandler(),this.mqttHandler(this.props.robot)}},{key:"render",value:function(e){var t=this.state.imgdata.map(function(e,t){return o.a.createElement(w,{img:e.img,slot:e.slot,key:t})}),n=this.state.scoredata.map(function(e,t){return o.a.createElement(C,{slot:e.slot,score:e.score,key:t})});return o.a.createElement("div",{className:"dashboardContainer"},o.a.createElement("div",null,this.props.robot),o.a.createElement("div",{className:"imgScoreContainer"},t),o.a.createElement("div",{className:"imgScoreContainer"},n))}}]),t}(a.Component)),S=(n(42),function(e){function t(){var e,n;Object(i.a)(this,t);for(var a=arguments.length,o=new Array(a),r=0;r<a;r++)o[r]=arguments[r];return(n=Object(c.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(o)))).state={viDashboard:!1,robotEnvironment:null},n.robotClickHandler=function(e){n.setState({viDashboard:!0,robotEnvironment:e.target.value}),console.log(e.target.value)},n}return Object(m.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){var e="";return e=this.state.viDashboard?o.a.createElement(j,{robot:this.state.robotEnvironment}):o.a.createElement(E,null,o.a.createElement("div",{className:"persona-section"},o.a.createElement(f,{name:"Carla"}),o.a.createElement("div",{style:{border:"1px solid green",padding:"10px",margin:"10px"}}," Assigned to line 3 today")),o.a.createElement(h,{clickHandler:this.robotClickHandler})),o.a.createElement("div",{className:"VisualInsights"},o.a.createElement(g,{role:"Line Manager Dashboard"}),e)}}]),t}(a.Component)),q=function(e){function t(){return Object(i.a)(this,t),Object(c.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){return o.a.createElement(d.a,null,o.a.createElement(v.c,null,o.a.createElement(v.a,{exact:!0,path:"/",component:b}),o.a.createElement(v.a,{path:"/pm",component:p}),o.a.createElement(v.a,{path:"/vi",component:S})))}}]),t}(a.Component);n(43);var N=function(){return o.a.createElement("div",{className:"App"},o.a.createElement(q,null))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));l.a.render(o.a.createElement(N,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})}},[[24,1,2]]]);
//# sourceMappingURL=main.ab9da887.chunk.js.map